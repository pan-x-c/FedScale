#! /bin/bash

source /root/miniconda3/bin/activate fedscale && python $FEDSCALE_HOME/fedscale/cloud/execution/executor.py  --time_stamp=0128_133458 --ps_ip=172.21.208.1 --job_name=femnist --log_path=$FEDSCALE_HOME/benchmark --num_participants=3 --data_set=femnist --data_dir=$FEDSCALE_HOME/benchmark/dataset/data/femnist --data_map_file=$FEDSCALE_HOME/benchmark/dataset/data/femnist/client_data_mapping/train.csv --device_conf_file=$FEDSCALE_HOME/benchmark/dataset/data/device_info/client_device_capacity --device_avail_file=$FEDSCALE_HOME/benchmark/dataset/data/device_info/client_behave_trace --model=convnet2 --model_zoo=fedscale-zoo --eval_interval=1 --rounds=10 --filter_less=5 --num_loaders=2 --local_steps=1 --learning_rate=0.05 --batch_size=20 --test_bsz=20 --use_cuda=False --this_rank=$1 --num_executors=$2 --local_client_num=$3 --cuda_device=cuda:0 &